
<!-- TABLE OF CONTENTS -->
<details open="open">
  <summary>Περιεχόμενα</summary>
  <ol>
    <li>
      <a href="#Σχετικά-με-το-παιχνίδι">Σχετικά με το παιχνίδι</a>
      <ul>
	 <li><a href="#H-βάση">Η βάση</a></li>
        <li><a href="#Περιγραφή-του-παιχνιδιού">Περιγραφή του παιχνιδιού</a></li>
	      <li><a href="#Τεχνολογίες-που-χρησιμοποιήθηκα">Τεχνολογίες που χρησιμοποιήθηκαν</a></li>
      </ul>
    </li>
    <li>
      <a href="#Αρχικά">Αρχικά</a>
      <ul>
        <li><a href="#Απαραίτητες-τεχνολογίες">Προαπαιτούμενες τεχνολογίες</a></li>
      </ul>
    </li>
    <li><a href="#Συντελεστές">Συντελεστές</a></li>
     <li>
      <a href="#Περιγραφή-API">Περιγραφή API</a>
      <ul>
	      <li><a href="#api">API</a></li>
      </ul>
    </li>
    <li><a href="#Επικοινωνία">Επικοινωνία</a></li>
  </ol>
</details>



<!-- ABOUT THE PROJECT -->
## Σχετικά με το παιχνίδι 

Το παιχνίδι στρατηγικής Σκορ 4/Connect four αποτελείται από ένα ταμπλό διαστάσεων 
7×6 (στήλες × γραμμές) και παίζεται από 2 παίκτες. Κάθε παίχτης έχει στην διάθεσή 
του 21 πιόνια, τα οποία τοποθετούνται σε οποιαδήποτε στήλη από την κορυφή του ταμπλό 
και ολισθαίνουν προς τα κάτω. Σου επιτρέπει να αναπτύξεις τις στρατηγικές σου ικανότητες 
και να κερδίσεις τον αντίπαλο, σχηματίζοντας μια σειρά από 4 μάρκες ίδιου χρώματος προς 
οποιαδήποτε κατεύθυνση (οριζόντια, κάθετα και διαγώνια). Σκέψου καλά ποια θα έιναι η 
επόμενη κίνηση! Δεν πρέπει μόνο να φτιάχνεις τετράδες αλλά να κόβεις και τις τετράδες 
που πάει να δημιουργήσει ο αντίπαλος!


## H βάση
Στη βάση υπάρχουν   4 πίνακες οι οποίοι φαίνονται παρακάτω.
### users
| Όνομα  | Τύπος | Περιγραφή | 
| ------------- | ------------- | ------------- | 
| player_id | int  | το id του κάθε παίκτη | 
| username  | varchar  | το όνομα του παίκτη |
| password  | varchar  | ο κωδικός πρόσβασης |
| wins  | int  | νίκες του κάθε παίκτη |
| player  | text  | καθορίζει τη σειρά του παίκτη (player1/player2) |
| piece_color  | enum('R','G')  | το χρώμα για το πιόνι |

### board
| Όνομα  | Τύπος | Περιγραφή |
| ------------- | ------------- |------------- | 
| x | int  | η συντεταγμένη χ του τετραγώνου για τις γραμμές (1..6) |
| y  | int  | η συντεταγμένη y του τετραγώνου για τις στήλες (1..7) |
| piece_color  | enum('R','G')  | το χρώμα που τοποθετείται σε κάθε τετράγωνο |

### chat
| Όνομα  | Τύπος | Περιγραφή |
| ------------- | ------------- | ------------- | 
| p_id | int  | το id του παίκτη που έγραψε το μήνυμα |
| m_id  | int  | το id του μηνύματος |
| msg  | varchar  | το κείμενο του μηνύματος |
| m_date  | timestamp  | η ημερομηνία και η ώρα του μηνύματος |

### status_turn
| Όνομα  | Τύπος | Περιγραφή |
| ------------- | ------------- | ------------- | 
| status | varchar  | η κατάσταση του παιχνιδιού (initialize,waiting,started,ended) |
| turn  | varchar  | η σειρά του παίκτη (player1,player2) |
| result  | varchar  | το ποιος νίκησε (R,G) |
| last_change  | timestamp  | ο χρόνος αλλαγής κατάστασης |

## Περιγραφή του παιχνιδιού

H εφαρμογή είναι ολοκληρωμένη και οι λειτουργίες που έχουν υλοποιηθεί ειναι : <br>
Ο επισκέπτης της εφαρμογής για να μπορέσει να παίξει το παιχνίδι υα πρέπει πρώτα να κάνει εγγραφή,
και στη συνέχεια σύνδεση με τα διαπιστευτήρια που εισήγαγε κατα την εγγραφή του.
Εφόσον τα έβαλε σωστά μπαίνει μέσα στο παιχνίδι και σαν player1 παίρνει αυτόματα και το πράσινο χρώμα και  περιμένει τον αντίπαλο , όταν βρεθεί αντίπαλος μπαίνει στο παιχνίδι σαν player2 και παίρνει αυτόματα το κόκκινο χρώμα και εμφανίζεται το κουμπί της 
έναρξης του παιχνιδιού και στους δυο , αφού το πατήσουν και οι δύο τότε ξεκινάει το παιχνίδι , καλέιται το board απο τη βάση και εμφανίζεται ένα select list με τις στήλες που μπορεί να επιλέξει ο κάθε παικτης για να τοποθετήσει το πιόνι του και ένα κουμπί για να οριστικοποιήσει την επιλογή του οπότε και γίνεται η κίνηση του.Καθόλη τη δίαρκεια του παιχνιδιού και πριν ξεκινήσει το παιχνίδι οι παίκτες μπορούν να ανταλλάξουν μεταξύ τους μηνύματα μέσω του chat . Κάθε φορά που παίζει ένας παίκτης αλλάζει η σειρά του και δεν μπορεί να παίξει μέχρι να έρθει η σειρά του.Επίσης στην καρτέλα του κάθε παίκτη φαίνονται οι νίκες που έχει ο κάθε παίκτης.Ο πρώτος παίκτης που συμπληρώσει 4 στη σειρά πιόνια νικάει γίνεται reset το board αποθηκεύεται η νίκη του παίκτη που νίκησε εμφανίζεται ξανά το κουμπί της έναρξης και όταν το πατήσουν και οι 2 ξεκινάει καινούριο παιχνίδι.


## Τεχνολογίες που χρησιμοποιήθηκαν

* [Bootstrap](https://getbootstrap.com)
* [JQuery](https://jquery.com)
* [PHP](https://www.php.net)
* JSON
* CSS
* HTML
* Vanilla Javascript

<!-- GETTING STARTED -->
## Αρχικά
* Κάνετε clone το project σε έναν δικό σας φάκελο <br>
$ git clone https://github.com/iee-ihu-gr-course1941/ADISE20_154594

* Βεβαιωθείτε ότι ο φάκελος είναι προσβάσιμος από τον Apache Server. πιθανόν να χρειαστεί να καθορίσετε τις παρακάτω ρυθμίσεις.

* Θα πρέπει να δημιουργήσετε στην Mysql την βάση με όνομα 'game_dbtable' και να φορτώσετε σε αυτήν την βάση τα δεδομένα από το αρχείο game_dbtable.sql

* Θα πρέπει να αλλάξετε στο αρχείο home/db_upass.php το οποίο πρέπει να περιέχει:

```php
<?php
	$DB_PASS = 'κωδικός';
	$DB_USER = 'όνομα χρήστη';
  ?>
```
## Απαραίτητες τεχνολογίες
* Apache2
* Mysql Server
* php

## Συντελεστές
Το παρόν project δημιουργήθηκε αποκλειστικά από τον προγραμματιστή Μπίλας Δημήτρης

## Περιγραφή API

### API

| URL  | METHOD | ACTION | 
| ------------- | ------------- | ------------- | 
| /board/fetch | GET  | | Επιστρέφει σε json την τρέχουσα μορφή του board |
| /board/send  | POST  | Στέλνει την τιμή της στήλης του board που εισήγαγε ο παίκτης |
| /board/show_turn | GET  | Επιστρέφει σε μορφή json και εμφανίζει τη σειρά του παίκτη |
| /board/switch_turn  | POST  |  Ανάλογα με το ποιος έπαιξε τελευταιός αλλάζει η σειρά παιξιάς |
| /board/show_opponent  | GET   | Επιστρέφει σε json μορφή τα στοιχεία του αντίπαλου |
| /board/play_btn | GET | Ανάλογα με το ποιος έχει σειρά ενεργοποιώ/απενεργοποιώ το κουμπί "Παίξε"  |
| /board/check_win  | GET | Διαβάζει το board και ελέγχει τα κελιά για να βρει τον νικητή  |
| /board/show_winner  | GET | Παίρνει σε json μορφή τον νικητή και τον στέλνει στη μέθοδο insert_wins για να προστεθεί η νίκη του | 
| /board/insert_wins  | POST | Προσθέτει τη νίκη στον παίκτη που νίκησε |
| /board/fetch_my_wins  | GET | Επιστρέφει τις νίκες και τις εμφανίζει στην καρτέλα του δικού σου παίκτη |
| /chat  | GET | Επιστρέφει το κείμενο για το chat σε json μορφή |
| /chat  | POST | Στέλνει το μήνυμα για το chat να αποθηκευτεί στη βάση |
| /status  | GET | Ελέγχει την κατάσταση του παιχνιδιού |
| /status  | POST | Αλλάζει την κατάσταση του παιχνιδιού (initialized,waiting,started,ended) |


<!-- CONTACT -->
## Επικοινωνία

Μπίλας Δημήτρης - [@linkedin](https://www.linkedin.com/in/dimitris-mpilas-0744191b5/) 
Gmail - mpilasdimitris@gmail.com

Σελίδα project: 






